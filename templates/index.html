<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Home | SWEETER</title>

    <!-- Meta tags -->
    <link rel="shortcut icon" href="{{url_for('static', filename='favicon.ico')}}" type="image/x-icon">
    <meta property="og:title" content="Sweeter - The Sweetest Site"/>
    <meta property="og:description" content="Sweeter | Login Page"/>
    <meta property="og:image" content="{{url_for('static', filename='ogimage.jpg')}}"/>

    <!-- Bulma CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css" />
    <!-- Font Awesome CSS -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>

    <!-- GOOGLE fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@700&family=Noto+Sans+Old+Permic&family=Noto+Serif+Display:wght@300&family=Noto+Serif:wght@500&family=Pacifico&family=Ubuntu:wght@300&display=swap" rel="stylesheet" />

    <!-- CSS & JS File-->
    <!-- Importing Style Sheet -->
    <!-- Needs to be placed below importing bulma css code -->
    <link rel="stylesheet" href="{{url_for('static', filename='style.css')}}"/>
    <script src="{{ url_for('static', filename='javascript.js')}}"></script>

    <script>

      // left because it targets the current opened document
      $(document).ready(function(){
        get_post();
      })

    </script>
  </head>
  <body class="has-navbar-fixed-top">
    <nav class="navbar is-fixed-top is-white" role="navigation" aria-label="main-navigation">
      <div class="navbar-brand">
        <a href="/" class="navbar-item">
          <img src="{{url_for('static', filename='logo.png')}}"/>
          <strong class="is-sparta ml-1 logo-text">
            SWEETER
          </strong>
        </a>
      </div>
    </nav>
    <!-- Posting BOX -->
    <section class="section">
      <article class="media">
        <figure class="media-left" style="align-self: center;">
          <!-- Fetch property that has been passed by server using . -->
          <a href="/user/{{user_info.username}}" class="image is-32x32">
            <!-- Add user profile picture -->
            <!-- The user has its own default profile picture when the user doesn't have one of their own -->
<!--ASK THIS-->
          <img src="{{url_for('static', filename=user_info.profile_pic_real)}}" class="is-rounded">
          </a>
        </figure>
        <div class="media-content">
          <div class="field">
            <p class="control">
              <input 
                id="input-post"
                type="text" 
                class="input is-rounded"
                placeholder="What are you thinking about?"
                onclick="$('#modal-post').addClass('is-active')"
              />

              <div class="modal" id="modal-post">
                <div class="modal-background" onclick="$('#modal-post').removeClass('is-active')">

                </div>
                <div class="modal-content">
                  <div class="box">
                    <article class="media">
                      <div class="media-content">
                        <div class="field">
                          <p class="control">
                            <textarea 
                              class="textarea" 
                              id="textarea-post"
                              placeholder="What are you thinking about?"></textarea>
                          </p>
                        </div>
                        <nav class="level is-mobile">
                          <div class="level-left"></div>
                          <div class="level-right">
                            <div class="level-item">
                              <a href="" class="button is-sparta" onclick="post()">Create Post</a>
                            </div>
                            <div class="level-item">
                              <a href="" class="button is-sparta is-outlined" onclick="$('#modal-post').removeClass('is-active')">Cancel</a>
                            </div>
                          </div>
                        </nav>
                      </div>
                    </article>
                  </div>
                </div>
                <button class="modal-close is-large" aria-label="close" onclick="$('#modal-post').removeClass('is-active')"></button>
              </div>

            </p>
          </div>
        </div>
      </article>
    </section>

    <!-- .................................................................... -->
    <section class="section">
      <div class="container" id="post-box">
        <!--Card Post-->
        <div class="box">
          <article class="media">
            <div class="media-left">
              <a href="#" class="image is-64x64">
                <img src="{{url_for('static', filename='profile_pics/profile_placeholder.png')}}" alt="Image" class="is-rounded"/>
              </a>
            </div>
            <div class="media-content">
              <div class="content">
                <p>
                  <strong>User-A</strong><small>@user-a</small>
                  <small>10 minutes ago</small>
                  <br/>
                  Comments Section
                </p>
              </div>
              <nav class="level is-mobile">
                <div class="level-left">
                  <a 
                    class="level-item is-sparta"
                    aria-label="heart"
                    onclick="toggle_like('', 'heart')">
                    <span class="icon is-small">
                      <i class="fa fa-heart" aria-hidden="True"></i>
                    </span>&nbsp; <span class="like-num">2.7k</span>
                  </a>
                </div>
              </nav>
            </div>
          </article>
        </div>
      </div>
    </section>
  </body>
</html>
